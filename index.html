<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å°ç‹—åƒå±æ¸¸æˆ</title>
<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
    }
    #container {
        width: 100vw;
        height: calc(75vw); /* å›ºå®š4:3å¸ƒå±€ */
        background-color: #9acd32;
        position: relative;
    }
    #dog {
        font-size: 30px;
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
    }
    .poop {
        font-size: 30px;
        position: absolute;
    }
    #score {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 20px;
    }
</style>
</head>
<body>
<div id="container">
    <div id="dog">ğŸ¶</div>
    <div id="score">é»„å­å¥åƒå±æ•°ï¼š<span id="scoreValue">0</span></div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var container = document.getElementById('container');
        var dog = document.getElementById('dog');
        var scoreValue = document.getElementById('scoreValue');
        var score = 0;
        var maxWidth = container.offsetWidth - dog.offsetWidth; // å¯ç§»åŠ¨çš„æœ€å¤§å®½åº¦

        // è®¾ç½®åˆ†æ•°åˆå§‹å€¼
        scoreValue.textContent = score;

        // å°ç‹—ç§»åŠ¨å‡½æ•°
        function moveDog(direction) {
            var currentLeft = parseInt(dog.style.left) || 0;
            var newLeft = currentLeft + direction * 30; // ç§»åŠ¨è·ç¦»
            newLeft = Math.max(0, Math.min(newLeft, maxWidth)); // é™åˆ¶åœ¨å®¹å™¨èŒƒå›´å†…
            dog.style.left = newLeft + 'px';
        }

        // æ¯éš”ä¸€æ®µæ—¶é—´éšæœºç”Ÿæˆä¸€å¨å±
        setInterval(function() {
            var poop = document.createElement('div');
            poop.classList.add('poop');
            poop.textContent = 'ğŸ’©'; // ä½¿ç”¨å±çš„è¡¨æƒ…ç¬¦å·
            poop.style.left = Math.floor(Math.random() * container.offsetWidth) + 'px';
            container.appendChild(poop);

            // å±ä¸‹è½åŠ¨ç”»
            var interval = setInterval(function() {
                var top = parseInt(poop.style.top) || 0;
                var newTop = top + 5; // ä¸‹è½é€Ÿåº¦
                poop.style.top = newTop + 'px';
                
                // åˆ¤æ–­æ˜¯å¦æ¥ä½å±
                if (newTop >= container.offsetHeight - dog.offsetHeight && 
                    Math.abs(parseInt(poop.style.left) - parseInt(dog.style.left)) <= 30) {
                    poop.remove(); // åƒæ‰å±
                    score++;
                    scoreValue.textContent = score; // æ›´æ–°åˆ†æ•°
                    clearInterval(interval);
                } else if (newTop >= container.offsetHeight) {
                    poop.remove(); // å±æ‰è½åˆ°åº•éƒ¨æœªè¢«æ¥ä½ï¼Œç§»é™¤å±
                    clearInterval(interval);
                }
            }, 50);
        }, 2000); // æ¯éš”2ç§’ç”Ÿæˆä¸€å¨å±

        // é”®ç›˜äº‹ä»¶ç›‘å¬
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') {
                moveDog(-1); // å‘å·¦ç§»åŠ¨
            } else if (event.key === 'ArrowRight') {
                moveDog(1); // å‘å³ç§»åŠ¨
            }
        });
    });
</script>
</body>
</html>
